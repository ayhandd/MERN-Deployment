{"ast":null,"code":"import _slicedToArray from\"/Users/ayhandurak/mern/full-stack/pet-shelter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{navigate}from\"@reach/router\";var PetEdit=function PetEdit(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),type=_useState4[0],setType=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),skill1=_useState8[0],setSkill1=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),skill2=_useState10[0],setSkill2=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),skill3=_useState12[0],setSkill3=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),errs=_useState14[0],setErrs=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),loaded=_useState16[0],setLoaded=_useState16[1];useEffect(function(){axios.get(\"http://localhost:8000/api/pet/\".concat(props.id)).then(function(res){setName(res.data.name);setType(res.data.type);setDescription(res.data.description);setSkill1(res.data.skill1);setSkill2(res.data.skill2);setSkill3(res.data.skill3);setLoaded(true);}).catch(function(err){return console.log(err);});},[]);var onUpdate=function onUpdate(e){e.preventDefault();axios.put(\"http://localhost:8000/api/pet/update/\".concat(props.id),{name:name,type:type,description:description,skill1:skill1,skill2:skill2,skill3:skill3}).then(function(res){if(res.data.error){setErrs(res.data.error.errors);}else{navigate(\"/pet/\".concat(props.id));}}).catch(function(err){return console.log(err);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Pet Shelter\"),/*#__PURE__*/React.createElement(\"h4\",null,\"Know a pet needing a home?\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"nav justify-content-end\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-secondary btn-m\",onClick:function onClick(){return navigate(\"/\");}},\"Back to Home\"))),loaded&&/*#__PURE__*/React.createElement(\"form\",{onSubmit:onUpdate},/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",null,\"Pet Name:\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control form-control-sm w-50\",type:\"text\",name:\"name\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),errs.name?/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger small\"},errs.name.message):null),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"p\",null,\"Skills (optional):\"),/*#__PURE__*/React.createElement(\"label\",null,\"Skill 1:\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control form-control-sm w-50\",type:\"text\",name:\"skill1\",value:skill1,onChange:function onChange(e){return setSkill1(e.target.value);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",null,\"Pet Type\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control form-control-sm w-50\",type:\"text\",name:\"type\",value:type,onChange:function onChange(e){return setType(e.target.value);}}),errs.type?/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger small\"},errs.type.message):null),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",null,\"Skill 2:\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control form-control-sm w-50\",type:\"text\",name:\"skill2\",value:skill2,onChange:function onChange(e){return setSkill2(e.target.value);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",null,\"Description\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control form-control-sm w-50\",type:\"description\",name:\"description\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}}),errs.description?/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger small\"},errs.description.message):null),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",null,\"Skill 3:\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control form-control-sm w-50\",type:\"text\",name:\"skill3\",value:skill3,onChange:function onChange(e){return setSkill3(e.target.value);}}))),/*#__PURE__*/React.createElement(\"input\",{className:\"btn btn-primary btn-lg\",type:\"submit\",value:\"Edit Pet\"})));};export default PetEdit;","map":{"version":3,"sources":["/Users/ayhandurak/mern/full-stack/pet-shelter/client/src/components/PetEdit.jsx"],"names":["React","useState","useEffect","axios","navigate","PetEdit","props","name","setName","type","setType","description","setDescription","skill1","setSkill1","skill2","setSkill2","skill3","setSkill3","errs","setErrs","loaded","setLoaded","get","id","then","res","data","catch","err","console","log","onUpdate","e","preventDefault","put","error","errors","target","value","message"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport {navigate} from \"@reach/router\"\n\nconst PetEdit = (props) => {\n    const [name, setName] = useState(\"\");\n    const [type, setType] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const [skill1, setSkill1] = useState(\"\")\n    const [skill2, setSkill2] = useState(\"\")\n    const [skill3, setSkill3] = useState(\"\")\n    const [errs, setErrs] = useState(\"\");\n    const [loaded, setLoaded] = useState(false);\n\n    useEffect(() => {\n        axios.get(`http://localhost:8000/api/pet/${props.id}`)\n        .then(res =>{\n            setName(res.data.name);\n            setType(res.data.type);\n            setDescription(res.data.description);\n            setSkill1(res.data.skill1);\n            setSkill2(res.data.skill2);\n            setSkill3(res.data.skill3);\n            setLoaded(true);\n        })\n        .catch(err =>  console.log(err))\n    },[])\n\n    const onUpdate = e =>{\n        e.preventDefault();\n        axios.put(`http://localhost:8000/api/pet/update/${props.id}`, {\n            name,\n            type,\n            description,\n            skill1,\n            skill2,\n            skill3\n        })\n        .then(res => \n            {\n                if(res.data.error){\n                    setErrs(res.data.error.errors);\n                }else{\n                    navigate(`/pet/${props.id}`)\n                }\n            })\n        .catch(err => console.log(err))\n    }\n    return(\n        <div className=\"container\">\n        <h1>Pet Shelter</h1>\n        <h4>Know a pet needing a home?</h4>\n        <ul className=\"nav justify-content-end\">\n            <li className=\"nav-item\">\n                <button className=\"btn btn-secondary btn-m\" onClick={() => navigate(`/`)}>Back to Home</button>\n            </li>\n        </ul>\n        {loaded && (\n        <form onSubmit={onUpdate}>\n            <div className=\"form-row\">\n                <div className=\"form-group col-md-6\">\n                    <label>Pet Name:</label>\n                    <input className=\"form-control form-control-sm w-50\" type=\"text\" name=\"name\" value={name} onChange={(e) => setName(e.target.value)}/>\n                    {errs.name ? <p className=\"text-danger small\">{errs.name.message}</p>: null}\n                </div>\n                <div className=\"form-group col-md-6\">\n                    <p>Skills (optional):</p>\n                    <label>Skill 1:</label>\n                    <input className=\"form-control form-control-sm w-50\" type=\"text\" name=\"skill1\" value={skill1} onChange={(e) => setSkill1(e.target.value)}/>\n                </div>\n            </div>\n            <div className=\"form-row\">\n                <div className=\"form-group col-md-6\">\n                    <label>Pet Type</label>\n                    <input className=\"form-control form-control-sm w-50\" type=\"text\" name=\"type\" value={type} onChange={(e) => setType(e.target.value)}/>\n                    {errs.type ? <p className=\"text-danger small\">{errs.type.message}</p>: null}\n                </div>\n                <div className=\"form-group col-md-6\">\n                    <label>Skill 2:</label>\n                    <input className=\"form-control form-control-sm w-50\" type=\"text\" name=\"skill2\" value={skill2} onChange={(e) => setSkill2(e.target.value)}/>\n                </div>\n            </div>\n        <div className=\"form-row\">\n            <div className=\"form-group col-md-6\">\n                <label>Description</label>\n                <input className=\"form-control form-control-sm w-50\" type=\"description\" name=\"description\" value={description} onChange={(e) => setDescription(e.target.value)}/>\n                {errs.description ? <p className=\"text-danger small\">{errs.description.message}</p>: null}\n            </div>\n            <div className=\"form-group col-md-6\">\n                <label>Skill 3:</label>\n                <input className=\"form-control form-control-sm w-50\" type=\"text\" name=\"skill3\" value={skill3} onChange={(e) => setSkill3(e.target.value)}/>\n            </div>\n        </div>\n            <input className=\"btn btn-primary btn-lg\" type=\"submit\" value=\"Edit Pet\"/>\n        </form>)}\n    </div>\n    )\n}\n\nexport default PetEdit;"]},"metadata":{},"sourceType":"module"}